<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>CCExtension 设置</title>
<link rel="stylesheet" href="../style/theme.css" />
<link rel="stylesheet" href="../style/theme-toggle.css" />
<link rel="stylesheet" href="../style/settings.css" />
</head>
<body>
<!-- 主题切换按钮 -->
<div id="theme-toggle-btn" title="切换主题">
	<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
		<path class="sun-icon" d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5M17.6859 17.69L18.5 18.5M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
		<path class="moon-icon" d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
	</svg>
</div>

<div class="container">
	<h1>Claudius 设置</h1>

	<div id="status" class="status disconnected">
		<span>未连接到 CCCore</span>
	</div>

	<!-- 连接信息 -->
	<div class="section">
		<h2>连接信息</h2>
		<button id="reconnectBtn">重新连接</button>
		<div class="setting-item">
			<span class="setting-label">连接状态</span>
			<span id="connectionStatus" class="info-value">正在连接...</span>
		</div>
		<div class="setting-item">
			<span class="setting-label">当前标签页</span>
			<span id="currentTab" class="info-value">获取中...</span>
		</div>
	</div>

	<!-- HeadlessKnight 设置 -->
	<div class="section">
		<h2>HeadlessKnight 设置</h2>
		<div class="setting-item">
			<div>
				<div class="setting-label">启用任务完成提醒</div>
				<div class="setting-description">当 HeadlessKnight 完成任务时显示通知</div>
			</div>
			<label class="toggle-switch">
				<input type="checkbox" id="stopReminderToggle" />
				<span class="toggle-slider"></span>
			</label>
		</div>
		<div class="setting-item">
			<div>
				<div class="setting-label">提醒等待时长</div>
				<div class="setting-description">任务执行超过此时长才显示完成提醒</div>
			</div>
			<div class="input-group">
				<input type="number" id="stopReminderDelay" class="input-field" min="0" step="1" />
				<span class="input-unit">秒</span>
			</div>
		</div>
	</div>

	<!-- 通知设置 -->
	<div class="section">
		<h2>通知设置</h2>
		<div class="setting-item">
			<div>
				<div class="setting-label">使用浏览器通知</div>
				<div class="setting-description">启用：使用 Chrome 通知；禁用：使用系统原生通知</div>
			</div>
			<label class="toggle-switch">
				<input type="checkbox" id="notificationToggle" />
				<span class="toggle-slider"></span>
			</label>
		</div>
	</div>

	<!-- 工作区设置 -->
	<div class="section">
		<h2>默认工作区</h2>
		<div class="setting-item">
			<div>
				<div class="setting-label">搜索工作区</div>
				<div class="setting-description">用于搜索、研究任务的默认工作目录</div>
			</div>
			<div class="workspace-selector">
				<input type="text" id="searchWorkspace" class="input-field" readonly placeholder="~/Searching" />
				<button id="selectSearchWorkspace" class="btn-select">选择</button>
			</div>
		</div>
		<div class="setting-item">
			<div>
				<div class="setting-label">写作工作区</div>
				<div class="setting-description">用于写作、文档编辑任务的默认工作目录</div>
			</div>
			<div class="workspace-selector">
				<input type="text" id="writingWorkspace" class="input-field" readonly placeholder="~/Writing" />
				<button id="selectWritingWorkspace" class="btn-select">选择</button>
			</div>
		</div>
	</div>

	<!-- 操作按钮 -->
	<div class="button-group">
		<button id="saveBtn" class="secondary">保存设置</button>
		<!-- <button id="reconnectBtn">重新连接</button> -->
	</div>
</div>

<script src="../components/theme-toggle.js"></script>
<script src="settings.js"></script>
</body>
</html>
